# ğŸ“ æ™ºæ…§æ ¡å›­ç®¡ç†ç³»ç»Ÿå®Œæ•´æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æ™ºæ…§æ ¡å›­ç®¡ç†ç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäºSpring Boot + Vue.jsçš„ç°ä»£åŒ–æ ¡å›­ç®¡ç†å¹³å°ï¼Œé‡‡ç”¨DDDåˆ†å±‚æ¶æ„è®¾è®¡ï¼Œæ”¯æŒå¤šè§’è‰²æƒé™ç®¡ç†ï¼Œæ¶µç›–å­¦ç”Ÿç®¡ç†ã€æ•™åŠ¡ç®¡ç†ã€è´¢åŠ¡ç®¡ç†ã€ç³»ç»Ÿç®¡ç†ç­‰æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½ã€‚

### ğŸ¯ é¡¹ç›®ç‰¹è‰²
- **ç°ä»£åŒ–æ¶æ„**: é‡‡ç”¨DDDåˆ†å±‚æ¶æ„ + å¾®æœåŠ¡è®¾è®¡ç†å¿µ
- **å¤šè§’è‰²æ”¯æŒ**: è¶…çº§ç®¡ç†å‘˜ã€ç³»ç»Ÿç®¡ç†å‘˜ã€æ•™å¸ˆã€å­¦ç”Ÿã€å®¶é•¿ç­‰7ç§è§’è‰²
- **æƒé™ç²¾ç»†åŒ–**: åŸºäºRBACçš„ç»†ç²’åº¦æƒé™æ§åˆ¶
- **å“åº”å¼è®¾è®¡**: æ”¯æŒPCç«¯å’Œç§»åŠ¨ç«¯è‡ªé€‚åº”
- **é«˜æ€§èƒ½**: Redisç¼“å­˜ + æ•°æ®åº“ä¼˜åŒ– + å¼‚æ­¥å¤„ç†

### ğŸ“Š æŠ€æœ¯æ ˆ

#### åç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Spring Boot 3.1.5
- **æ•°æ®åº“**: MySQL 8.0 + Redis 7.0
- **ORM**: Spring Data JPA + Hibernate
- **å®‰å…¨**: Spring Security + JWT
- **æ–‡æ¡£**: Swagger 3.0 + OpenAPI
- **ç¼“å­˜**: Redis + Spring Cache
- **æ„å»º**: Maven 3.9 + Maven Daemon

#### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Vue.js 3.0 + Composition API
- **UIåº“**: Element Plus + Tailwind CSS
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±**: Vue Router 4.0
- **HTTP**: Axios + è¯·æ±‚æ‹¦æˆªå™¨
- **å›¾è¡¨**: ECharts + Chart.js

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ™ºæ…§æ ¡å›­ç®¡ç†ç³»ç»Ÿ                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å‰ç«¯å±‚ (Presentation Layer)                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ ç®¡ç†å‘˜åå°   â”‚ â”‚ æ•™å¸ˆç«¯åº”ç”¨   â”‚ â”‚ å­¦ç”Ÿç«¯åº”ç”¨   â”‚           â”‚
â”‚  â”‚ Vue.js      â”‚ â”‚ Vue.js      â”‚ â”‚ Vue.js      â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ¥å£å±‚ (Interface Layer)                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ REST API    â”‚ â”‚ Webæ§åˆ¶å™¨   â”‚ â”‚ WebSocket   â”‚           â”‚
â”‚  â”‚ 26ä¸ªæ§åˆ¶å™¨   â”‚ â”‚ 21ä¸ªæ§åˆ¶å™¨   â”‚ â”‚ å®æ—¶é€šä¿¡     â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åº”ç”¨å±‚ (Application Layer)                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ ä¸šåŠ¡æœåŠ¡     â”‚ â”‚ åº”ç”¨æœåŠ¡     â”‚ â”‚ é¢†åŸŸæœåŠ¡     â”‚           â”‚
â”‚  â”‚ 30ä¸ªæœåŠ¡æ¥å£ â”‚ â”‚ 30ä¸ªå®ç°ç±»   â”‚ â”‚ äº‹ä»¶å¤„ç†     â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é¢†åŸŸå±‚ (Domain Layer)                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ å®ä½“æ¨¡å‹     â”‚ â”‚ å€¼å¯¹è±¡      â”‚ â”‚ é¢†åŸŸäº‹ä»¶     â”‚           â”‚
â”‚  â”‚ 35ä¸ªå®ä½“ç±»   â”‚ â”‚ DTOå¯¹è±¡     â”‚ â”‚ ä¸šåŠ¡è§„åˆ™     â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åŸºç¡€è®¾æ–½å±‚ (Infrastructure Layer)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ æ•°æ®è®¿é—®     â”‚ â”‚ ç¼“å­˜ç®¡ç†     â”‚ â”‚ æ¶ˆæ¯é˜Ÿåˆ—     â”‚           â”‚
â”‚  â”‚ 35ä¸ªRepositoryâ”‚ â”‚ Redis      â”‚ â”‚ RabbitMQ    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é¡¹ç›®ç»“æ„
```
Smart-Campus-Management/
â”œâ”€â”€ campus-management-backend/          # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/main/java/com/campus/
â”‚   â”‚   â”œâ”€â”€ domain/                     # é¢†åŸŸå±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ entity/                 # å®ä½“ç±» (35ä¸ª)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth/               # æƒé™ç®¡ç†å®ä½“
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ academic/           # å­¦æœ¯ç®¡ç†å®ä½“
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ organization/       # ç»„ç»‡ç®¡ç†å®ä½“
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ finance/            # è´¢åŠ¡ç®¡ç†å®ä½“
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ system/             # ç³»ç»Ÿç®¡ç†å®ä½“
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ infrastructure/     # åŸºç¡€å®ä½“
â”‚   â”‚   â”‚   â””â”€â”€ repository/             # æ•°æ®è®¿é—®æ¥å£ (35ä¸ª)
â”‚   â”‚   â”œâ”€â”€ application/                # åº”ç”¨å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ service/                # ä¸šåŠ¡æœåŠ¡æ¥å£ (30ä¸ª)
â”‚   â”‚   â”‚   â”œâ”€â”€ Implement/              # æœåŠ¡å®ç°ç±» (30ä¸ª)
â”‚   â”‚   â”‚   â””â”€â”€ dto/                    # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â”œâ”€â”€ interfaces/                 # æ¥å£å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ rest/                   # REST APIæ§åˆ¶å™¨ (26ä¸ª)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ v1/                 # APIç‰ˆæœ¬1
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth/           # è®¤è¯API
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ organization/   # ç»„ç»‡ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ academic/       # å­¦æœ¯ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ finance/        # è´¢åŠ¡ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ system/         # ç³»ç»Ÿç®¡ç†API
â”‚   â”‚   â”‚   â””â”€â”€ web/                    # Webé¡µé¢æ§åˆ¶å™¨ (21ä¸ª)
â”‚   â”‚   â”œâ”€â”€ infrastructure/             # åŸºç¡€è®¾æ–½å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ config/                 # é…ç½®ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ security/               # å®‰å…¨é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ utils/                  # å·¥å…·ç±»
â”‚   â”‚   â””â”€â”€ shared/                     # å…±äº«ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ common/                 # é€šç”¨ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ constants/              # å¸¸é‡å®šä¹‰
â”‚   â”‚       â”œâ”€â”€ exception/              # å¼‚å¸¸å¤„ç†
â”‚   â”‚       â””â”€â”€ util/                   # å·¥å…·ç±»
â”‚   â”œâ”€â”€ src/main/resources/
â”‚   â”‚   â”œâ”€â”€ db/                         # æ•°æ®åº“è„šæœ¬ (6ä¸ªSQLæ–‡ä»¶)
â”‚   â”‚   â”œâ”€â”€ templates/                  # é¡µé¢æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/                  # ç®¡ç†å‘˜é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/                 # å¸ƒå±€æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ components/             # ç»„ä»¶æ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ error/                  # é”™è¯¯é¡µé¢
â”‚   â”‚   â”œâ”€â”€ static/                     # é™æ€èµ„æº
â”‚   â”‚   â”‚   â”œâ”€â”€ css/                    # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ js/                     # JavaScriptæ–‡ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ images/                 # å›¾ç‰‡èµ„æº
â”‚   â”‚   â”œâ”€â”€ application.yml             # é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ logback-spring.xml          # æ—¥å¿—é…ç½®
â”‚   â””â”€â”€ docs/                           # é¡¹ç›®æ–‡æ¡£ (15ä¸ªæ–‡æ¡£)
â”‚
â”œâ”€â”€ campus-management-frontend/         # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/                        # APIæ¥å£å°è£… (15ä¸ªæ¨¡å—)
â”‚   â”‚   â”œâ”€â”€ components/                 # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ views/                      # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/                  # ç®¡ç†å‘˜é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ teacher/                # æ•™å¸ˆé¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ student/                # å­¦ç”Ÿé¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ parent/                 # å®¶é•¿é¡µé¢
â”‚   â”‚   â”œâ”€â”€ router/                     # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ store/                      # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ utils/                      # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ assets/                     # é™æ€èµ„æº
â”‚   â”œâ”€â”€ public/                         # å…¬å…±èµ„æº
â”‚   â””â”€â”€ package.json                    # ä¾èµ–é…ç½®
â”‚
â””â”€â”€ database/                           # æ•°æ®åº“ç›¸å…³
    â”œâ”€â”€ migrations/                     # æ•°æ®åº“è¿ç§»
    â”œâ”€â”€ seeds/                          # åˆå§‹æ•°æ®
    â””â”€â”€ backup/                         # æ•°æ®å¤‡ä»½
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. ğŸ‘¥ ç”¨æˆ·ç®¡ç†æ¨¡å—

#### åŠŸèƒ½ç‰¹æ€§
- **å¤šè§’è‰²æ”¯æŒ**: è¶…çº§ç®¡ç†å‘˜ã€ç³»ç»Ÿç®¡ç†å‘˜ã€æ•™åŠ¡ç®¡ç†å‘˜ã€è´¢åŠ¡ç®¡ç†å‘˜ã€æ•™å¸ˆã€å­¦ç”Ÿã€å®¶é•¿
- **æƒé™æ§åˆ¶**: åŸºäºRBACçš„ç»†ç²’åº¦æƒé™ç®¡ç†ï¼Œæ”¯æŒè§’è‰²ç»§æ‰¿å’Œæƒé™ç»„åˆ
- **ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸ**: æ³¨å†Œã€æ¿€æ´»ã€ç¦ç”¨ã€å¯†ç é‡ç½®ç­‰å®Œæ•´æµç¨‹
- **å®‰å…¨è®¤è¯**: JWT Tokenè®¤è¯ï¼Œæ”¯æŒTokenåˆ·æ–°å’Œå¤šè®¾å¤‡ç™»å½•

#### æŠ€æœ¯å®ç°
- **å®ä½“ç±»**: User, Role, Permission, UserRole, RolePermission
- **APIæ¥å£**: OptimizedUserApiController, RoleApiController, PermissionApiController
- **æœåŠ¡å±‚**: UserService, RoleService, PermissionService
- **å®‰å…¨é…ç½®**: Spring Security + JWT + è‡ªå®šä¹‰æƒé™éªŒè¯

#### æ ¸å¿ƒAPI
```http
POST   /api/v1/auth/login              # ç”¨æˆ·ç™»å½•
POST   /api/v1/auth/logout             # ç”¨æˆ·ç™»å‡º
GET    /api/v1/users                   # è·å–ç”¨æˆ·åˆ—è¡¨
POST   /api/v1/users                   # åˆ›å»ºç”¨æˆ·
PUT    /api/v1/users/{id}              # æ›´æ–°ç”¨æˆ·
DELETE /api/v1/users/{id}              # åˆ é™¤ç”¨æˆ·
GET    /api/v1/roles                   # è·å–è§’è‰²åˆ—è¡¨
POST   /api/v1/roles                   # åˆ›å»ºè§’è‰²
```

### 2. ğŸ« å­¦æœ¯ç®¡ç†æ¨¡å—

#### åŠŸèƒ½ç‰¹æ€§
- **é™¢ç³»ç®¡ç†**: å­¦é™¢ã€ä¸“ä¸šã€ç­çº§çš„å±‚çº§ç®¡ç†
- **è¯¾ç¨‹ç®¡ç†**: è¯¾ç¨‹ä¿¡æ¯ã€æ•™å­¦å¤§çº²ã€å…ˆä¿®è¯¾ç¨‹ã€å­¦åˆ†ç®¡ç†
- **é€‰è¯¾ç³»ç»Ÿ**: é€‰è¯¾æ—¶é—´æ§åˆ¶ã€å®¹é‡é™åˆ¶ã€å†²çªæ£€æµ‹
- **æ’è¯¾ç³»ç»Ÿ**: æ™ºèƒ½æ’è¯¾ç®—æ³•ï¼Œæ•™å®¤èµ„æºè°ƒåº¦ï¼Œæ—¶é—´å†²çªé¿å…

#### æŠ€æœ¯å®ç°
- **å®ä½“ç±»**: Department, Course, SchoolClass, CourseSchedule, CourseSelection
- **APIæ¥å£**: DepartmentApiController, CourseApiController, ClassApiController
- **æœåŠ¡å±‚**: DepartmentService, CourseService, SchoolClassService
- **ç®—æ³•æ”¯æŒ**: æ™ºèƒ½æ’è¯¾ç®—æ³•ã€å†²çªæ£€æµ‹ç®—æ³•

#### æ ¸å¿ƒAPI
```http
GET    /api/v1/departments             # è·å–é™¢ç³»åˆ—è¡¨
POST   /api/v1/departments             # åˆ›å»ºé™¢ç³»
GET    /api/v1/courses                 # è·å–è¯¾ç¨‹åˆ—è¡¨
POST   /api/v1/courses                 # åˆ›å»ºè¯¾ç¨‹
GET    /api/v1/classes                 # è·å–ç­çº§åˆ—è¡¨
POST   /api/v1/course-selections       # å­¦ç”Ÿé€‰è¯¾
```

### 3. ğŸ“š æ•™å­¦ç®¡ç†æ¨¡å—

#### åŠŸèƒ½ç‰¹æ€§
- **ä½œä¸šç®¡ç†**: ä½œä¸šå‘å¸ƒã€æäº¤ã€æ‰¹æ”¹ã€æˆç»©ç»Ÿè®¡
- **è€ƒè¯•ç®¡ç†**: è€ƒè¯•å®‰æ’ã€é¢˜åº“ç®¡ç†ã€æˆç»©å½•å…¥ã€ç»Ÿè®¡åˆ†æ
- **è€ƒå‹¤ç®¡ç†**: ç­¾åˆ°ç­¾é€€ã€è¯·å‡å®¡æ‰¹ã€è€ƒå‹¤ç»Ÿè®¡ã€å¼‚å¸¸é¢„è­¦
- **æˆç»©ç®¡ç†**: å¹³æ—¶æˆç»©ã€æœŸä¸­æœŸæœ«ã€ç»¼åˆè¯„å®šã€æˆç»©åˆ†æ

#### æŠ€æœ¯å®ç°
- **å®ä½“ç±»**: Assignment, AssignmentSubmission, Exam, ExamRecord, Grade, Attendance
- **APIæ¥å£**: AssignmentApiController, ExamApiController, GradeApiController, AttendanceApiController
- **æœåŠ¡å±‚**: AssignmentService, ExamService, GradeService, AttendanceService
- **æ•°æ®åˆ†æ**: æˆç»©ç»Ÿè®¡ã€è¶‹åŠ¿åˆ†æã€é¢„è­¦æœºåˆ¶

#### æ ¸å¿ƒAPI
```http
GET    /api/v1/assignments             # è·å–ä½œä¸šåˆ—è¡¨
POST   /api/v1/assignments             # å‘å¸ƒä½œä¸š
POST   /api/v1/assignment-submissions  # æäº¤ä½œä¸š
GET    /api/v1/exams                   # è·å–è€ƒè¯•åˆ—è¡¨
POST   /api/v1/exams                   # åˆ›å»ºè€ƒè¯•
GET    /api/v1/grades                  # è·å–æˆç»©åˆ—è¡¨
POST   /api/v1/attendance              # è€ƒå‹¤æ‰“å¡
```

### 4. ğŸ’° è´¢åŠ¡ç®¡ç†æ¨¡å—

#### åŠŸèƒ½ç‰¹æ€§
- **è´¹ç”¨ç®¡ç†**: å­¦è´¹ã€ä½å®¿è´¹ã€æ•™æè´¹ç­‰å„ç±»è´¹ç”¨é¡¹ç›®
- **ç¼´è´¹ç³»ç»Ÿ**: åœ¨çº¿æ”¯ä»˜ã€åˆ†æœŸç¼´è´¹ã€æ¬ è´¹æé†’
- **è´¢åŠ¡ç»Ÿè®¡**: æ”¶å…¥åˆ†æã€æ¬ è´¹ç»Ÿè®¡ã€è´¢åŠ¡æŠ¥è¡¨
- **é€€è´¹ç®¡ç†**: é€€è´¹ç”³è¯·ã€å®¡æ‰¹æµç¨‹ã€é€€è´¹è®°å½•

#### æŠ€æœ¯å®ç°
- **å®ä½“ç±»**: FeeItem, PaymentRecord
- **APIæ¥å£**: FeeItemApiController, PaymentApiController
- **æœåŠ¡å±‚**: FeeItemService, PaymentRecordService
- **æ”¯ä»˜é›†æˆ**: æ”¯ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜ã€é“¶è¡Œå¡æ”¯ä»˜

#### æ ¸å¿ƒAPI
```http
GET    /api/v1/fee-items               # è·å–è´¹ç”¨é¡¹ç›®
POST   /api/v1/fee-items               # åˆ›å»ºè´¹ç”¨é¡¹ç›®
GET    /api/v1/payments                # è·å–ç¼´è´¹è®°å½•
POST   /api/v1/payments                # åˆ›å»ºç¼´è´¹è®°å½•
```

### 5. ğŸ“Š ç³»ç»Ÿç®¡ç†æ¨¡å—

#### åŠŸèƒ½ç‰¹æ€§
- **ç³»ç»Ÿé…ç½®**: ç³»ç»Ÿå‚æ•°ã€ä¸šåŠ¡è§„åˆ™ã€åŠŸèƒ½å¼€å…³
- **é€šçŸ¥ç®¡ç†**: ç³»ç»Ÿé€šçŸ¥ã€æ¶ˆæ¯æ¨é€ã€é‚®ä»¶å‘é€
- **æ—¥å¿—ç®¡ç†**: æ“ä½œæ—¥å¿—ã€é”™è¯¯æ—¥å¿—ã€å®¡è®¡æ—¥å¿—
- **ç¼“å­˜ç®¡ç†**: Redisç¼“å­˜ã€ç¼“å­˜æ¸…ç†ã€æ€§èƒ½ç›‘æ§

#### æŠ€æœ¯å®ç°
- **å®ä½“ç±»**: SystemConfig, Notification, ActivityLog, Message
- **APIæ¥å£**: SystemApiController, NotificationApiController, CacheManagementApiController
- **æœåŠ¡å±‚**: SystemConfigService, NotificationService, ActivityLogService
- **ç›‘æ§å·¥å…·**: Spring Boot Actuatorã€è‡ªå®šä¹‰ç›‘æ§æŒ‡æ ‡

#### æ ¸å¿ƒAPI
```http
GET    /api/v1/system/config           # è·å–ç³»ç»Ÿé…ç½®
PUT    /api/v1/system/config           # æ›´æ–°ç³»ç»Ÿé…ç½®
GET    /api/v1/notifications           # è·å–é€šçŸ¥åˆ—è¡¨
POST   /api/v1/notifications           # å‘é€é€šçŸ¥
GET    /api/v1/cache/stats             # è·å–ç¼“å­˜ç»Ÿè®¡
DELETE /api/v1/cache/clear             # æ¸…ç†ç¼“å­˜
```

## ğŸ” å®‰å…¨æ¶æ„

### è®¤è¯æœºåˆ¶
- **JWT Token**: æ— çŠ¶æ€è®¤è¯ï¼Œæ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²
- **Tokenåˆ·æ–°**: è‡ªåŠ¨åˆ·æ–°æœºåˆ¶ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
- **å¤šè®¾å¤‡ç™»å½•**: æ”¯æŒåŒä¸€ç”¨æˆ·å¤šè®¾å¤‡åŒæ—¶ç™»å½•
- **ç™»å½•é™åˆ¶**: IPé™åˆ¶ã€è®¾å¤‡é™åˆ¶ã€æ—¶é—´é™åˆ¶

### æƒé™æ§åˆ¶
- **RBACæ¨¡å‹**: ç”¨æˆ·-è§’è‰²-æƒé™ä¸‰å±‚æ¨¡å‹
- **ç»†ç²’åº¦æƒé™**: æ”¯æŒåˆ°æŒ‰é’®çº§åˆ«çš„æƒé™æ§åˆ¶
- **åŠ¨æ€æƒé™**: æ”¯æŒè¿è¡Œæ—¶æƒé™å˜æ›´
- **æƒé™ç»§æ‰¿**: æ”¯æŒè§’è‰²æƒé™ç»§æ‰¿æœºåˆ¶

### æ•°æ®å®‰å…¨
- **æ•°æ®åŠ å¯†**: æ•æ„Ÿæ•°æ®AESåŠ å¯†å­˜å‚¨
- **ä¼ è¾“åŠ å¯†**: HTTPS + TLS 1.3
- **SQLæ³¨å…¥é˜²æŠ¤**: å‚æ•°åŒ–æŸ¥è¯¢ + è¾“å…¥éªŒè¯
- **XSSé˜²æŠ¤**: è¾“å‡ºç¼–ç  + CSPç­–ç•¥

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### æ•°æ®åº“ä¼˜åŒ–
- **ç´¢å¼•ä¼˜åŒ–**: åˆç†è®¾è®¡æ•°æ®åº“ç´¢å¼•
- **æŸ¥è¯¢ä¼˜åŒ–**: SQLè¯­å¥ä¼˜åŒ– + åˆ†é¡µæŸ¥è¯¢
- **è¿æ¥æ± **: HikariCPé«˜æ€§èƒ½è¿æ¥æ± 
- **è¯»å†™åˆ†ç¦»**: ä¸»ä»æ•°æ®åº“åˆ†ç¦»

### ç¼“å­˜ç­–ç•¥
- **å¤šçº§ç¼“å­˜**: Redis + æœ¬åœ°ç¼“å­˜
- **ç¼“å­˜é¢„çƒ­**: ç³»ç»Ÿå¯åŠ¨æ—¶é¢„åŠ è½½çƒ­ç‚¹æ•°æ®
- **ç¼“å­˜æ›´æ–°**: åŸºäºäº‹ä»¶çš„ç¼“å­˜æ›´æ–°æœºåˆ¶
- **ç¼“å­˜ç›‘æ§**: ç¼“å­˜å‘½ä¸­ç‡ç›‘æ§

### å‰ç«¯ä¼˜åŒ–
- **ä»£ç åˆ†å‰²**: è·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰²
- **èµ„æºå‹ç¼©**: Gzipå‹ç¼© + èµ„æºåˆå¹¶
- **CDNåŠ é€Ÿ**: é™æ€èµ„æºCDNåˆ†å‘
- **æ‡’åŠ è½½**: å›¾ç‰‡æ‡’åŠ è½½ + ç»„ä»¶æ‡’åŠ è½½

## ğŸš€ éƒ¨ç½²æ¶æ„

### å¼€å‘ç¯å¢ƒ
```yaml
# docker-compose.dev.yml
version: '3.8'
services:
  mysql:
    image: mysql:8.0
    ports:
      - "3306:3306"
    environment:
      MYSQL_ROOT_PASSWORD: root123
      MYSQL_DATABASE: smart_campus
  
  redis:
    image: redis:7.0
    ports:
      - "6379:6379"
  
  backend:
    build: ./campus-management-backend
    ports:
      - "8889:8889"
    depends_on:
      - mysql
      - redis
  
  frontend:
    build: ./campus-management-frontend
    ports:
      - "3000:3000"
    depends_on:
      - backend
```

### ç”Ÿäº§ç¯å¢ƒ
```yaml
# docker-compose.prod.yml
version: '3.8'
services:
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - ./ssl:/etc/nginx/ssl
  
  backend:
    image: smart-campus-backend:latest
    deploy:
      replicas: 3
    environment:
      SPRING_PROFILES_ACTIVE: prod
  
  mysql:
    image: mysql:8.0
    volumes:
      - mysql_data:/var/lib/mysql
    environment:
      MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD}
  
  redis:
    image: redis:7.0
    volumes:
      - redis_data:/data
```

## ğŸ“š APIæ–‡æ¡£

### APIæ¦‚è§ˆ
ç³»ç»Ÿå…±åŒ…å«8å¤§åŠŸèƒ½æ¨¡å—ï¼Œ26ä¸ªAPIæ§åˆ¶å™¨ï¼š

| æ¨¡å— | æ§åˆ¶å™¨æ•°é‡ | ä¸»è¦åŠŸèƒ½ |
|------|------------|----------|
| è®¤è¯æ¨¡å— | 1ä¸ª | ç”¨æˆ·ç™»å½•ã€æ³¨å†Œã€Tokenç®¡ç† |
| æ ¸å¿ƒä¸šåŠ¡æ¨¡å— | 5ä¸ª | ç”¨æˆ·ã€å­¦ç”Ÿã€è¯¾ç¨‹ã€ç­çº§ã€é™¢ç³»ç®¡ç† |
| å­¦æœ¯ç®¡ç†æ¨¡å— | 8ä¸ª | ä½œä¸šã€è€ƒè¯•ã€æˆç»©ã€é€‰è¯¾ç®¡ç† |
| ç³»ç»Ÿç®¡ç†æ¨¡å— | 6ä¸ª | æƒé™ã€è§’è‰²ã€é€šçŸ¥ã€é…ç½®ç®¡ç† |
| è´¢åŠ¡ç®¡ç†æ¨¡å— | 2ä¸ª | è´¹ç”¨ã€æ”¯ä»˜ç®¡ç† |
| æ¶ˆæ¯é€šä¿¡æ¨¡å— | 3ä¸ª | æ¶ˆæ¯ã€é€šçŸ¥æ¨¡æ¿ç®¡ç† |
| ç‰¹æ®ŠåŠŸèƒ½æ¨¡å— | 5ä¸ª | æ’è¯¾ã€æ•™å®¤ã€ç¼“å­˜ç®¡ç† |

### ç»Ÿä¸€å“åº”æ ¼å¼
```json
{
  "success": true,
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {},
  "timestamp": "2025-06-13T01:00:00Z"
}
```

### é”™è¯¯å“åº”æ ¼å¼
```json
{
  "success": false,
  "code": 400,
  "message": "å‚æ•°é”™è¯¯",
  "error": "è¯¦ç»†é”™è¯¯ä¿¡æ¯",
  "timestamp": "2025-06-13T01:00:00Z"
}
```

## ğŸ”§ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚
- **JDK**: 17+
- **Node.js**: 16+
- **MySQL**: 8.0+
- **Redis**: 7.0+
- **Maven**: 3.9+

### å¿«é€Ÿå¼€å§‹
```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/Smart-Campus-Management.git

# 2. å¯åŠ¨æ•°æ®åº“
docker-compose up -d mysql redis

# 3. å¯åŠ¨åç«¯
cd campus-management-backend
mvnd spring-boot:run

# 4. å¯åŠ¨å‰ç«¯
cd campus-management-frontend
npm install
npm run dev
```

### å¼€å‘è§„èŒƒ
- **ä»£ç è§„èŒƒ**: éµå¾ªé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œ
- **æäº¤è§„èŒƒ**: ä½¿ç”¨Conventional Commitsè§„èŒƒ
- **åˆ†æ”¯ç­–ç•¥**: Git Flowå·¥ä½œæµ
- **æµ‹è¯•è¦†ç›–**: å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80%

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®åœ°å€**: https://github.com/your-repo/Smart-Campus-Management
- **æ–‡æ¡£åœ°å€**: https://docs.smart-campus.com
- **é—®é¢˜åé¦ˆ**: https://github.com/your-repo/Smart-Campus-Management/issues
- **æŠ€æœ¯æ”¯æŒ**: support@smart-campus.com

## ğŸ“‹ æ•°æ®åº“è®¾è®¡

### æ•°æ®åº“è¡¨ç»“æ„æ¦‚è§ˆ

ç³»ç»Ÿå…±åŒ…å«35ä¸ªæ•°æ®è¡¨ï¼Œåˆ†ä¸º7ä¸ªåŠŸèƒ½æ¨¡å—ï¼š

#### 1. æƒé™ç®¡ç†æ¨¡å— (5å¼ è¡¨)
- **users**: ç”¨æˆ·åŸºç¡€ä¿¡æ¯è¡¨
- **roles**: è§’è‰²å®šä¹‰è¡¨
- **permissions**: æƒé™å®šä¹‰è¡¨
- **user_roles**: ç”¨æˆ·è§’è‰²å…³è”è¡¨
- **role_permissions**: è§’è‰²æƒé™å…³è”è¡¨

#### 2. ç»„ç»‡ç®¡ç†æ¨¡å— (4å¼ è¡¨)
- **departments**: é™¢ç³»ä¿¡æ¯è¡¨
- **school_classes**: ç­çº§ä¿¡æ¯è¡¨
- **students**: å­¦ç”Ÿä¿¡æ¯è¡¨
- **parent_student_relations**: å®¶é•¿å­¦ç”Ÿå…³ç³»è¡¨

#### 3. å­¦æœ¯ç®¡ç†æ¨¡å— (12å¼ è¡¨)
- **courses**: è¯¾ç¨‹ä¿¡æ¯è¡¨
- **course_schedules**: è¯¾ç¨‹å®‰æ’è¡¨
- **course_selections**: é€‰è¯¾è®°å½•è¡¨
- **course_selection_periods**: é€‰è¯¾å‘¨æœŸè¡¨
- **assignments**: ä½œä¸šä¿¡æ¯è¡¨
- **assignment_submissions**: ä½œä¸šæäº¤è¡¨
- **exams**: è€ƒè¯•ä¿¡æ¯è¡¨
- **exam_questions**: è€ƒè¯•é¢˜ç›®è¡¨
- **exam_records**: è€ƒè¯•è®°å½•è¡¨
- **grades**: æˆç»©è®°å½•è¡¨
- **attendance**: è€ƒå‹¤è®°å½•è¡¨
- **course_resources**: è¯¾ç¨‹èµ„æºè¡¨

#### 4. è´¢åŠ¡ç®¡ç†æ¨¡å— (2å¼ è¡¨)
- **fee_items**: è´¹ç”¨é¡¹ç›®è¡¨
- **payment_records**: ç¼´è´¹è®°å½•è¡¨

#### 5. ç³»ç»Ÿç®¡ç†æ¨¡å— (6å¼ è¡¨)
- **system_configs**: ç³»ç»Ÿé…ç½®è¡¨
- **system_settings**: ç³»ç»Ÿè®¾ç½®è¡¨
- **notifications**: é€šçŸ¥ä¿¡æ¯è¡¨
- **notification_templates**: é€šçŸ¥æ¨¡æ¿è¡¨
- **messages**: æ¶ˆæ¯è®°å½•è¡¨
- **activity_logs**: æ´»åŠ¨æ—¥å¿—è¡¨

#### 6. åŸºç¡€è®¾æ–½æ¨¡å— (4å¼ è¡¨)
- **classrooms**: æ•™å®¤ä¿¡æ¯è¡¨
- **schedules**: æ—¥ç¨‹å®‰æ’è¡¨
- **time_slots**: æ—¶é—´æ®µå®šä¹‰è¡¨
- **resource_access_logs**: èµ„æºè®¿é—®æ—¥å¿—è¡¨

#### 7. æ‰©å±•åŠŸèƒ½æ¨¡å— (2å¼ è¡¨)
- **student_evaluations**: å­¦ç”Ÿè¯„ä»·è¡¨
- **teacher_course_permissions**: æ•™å¸ˆè¯¾ç¨‹æƒé™è¡¨

### æ ¸å¿ƒè¡¨ç»“æ„è¯¦è§£

#### ç”¨æˆ·è¡¨ (users)
```sql
CREATE TABLE users (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(50) UNIQUE NOT NULL COMMENT 'ç”¨æˆ·å',
    password VARCHAR(255) NOT NULL COMMENT 'å¯†ç ',
    email VARCHAR(100) UNIQUE COMMENT 'é‚®ç®±',
    phone VARCHAR(20) COMMENT 'æ‰‹æœºå·',
    real_name VARCHAR(50) COMMENT 'çœŸå®å§“å',
    avatar VARCHAR(255) COMMENT 'å¤´åƒURL',
    status TINYINT DEFAULT 1 COMMENT 'çŠ¶æ€: 1-æ­£å¸¸, 0-ç¦ç”¨, -1-åˆ é™¤',
    last_login_time DATETIME COMMENT 'æœ€åç™»å½•æ—¶é—´',
    created_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    deleted TINYINT DEFAULT 0 COMMENT 'é€»è¾‘åˆ é™¤æ ‡è®°'
);
```

#### è¯¾ç¨‹è¡¨ (courses)
```sql
CREATE TABLE courses (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    course_code VARCHAR(20) UNIQUE NOT NULL COMMENT 'è¯¾ç¨‹ä»£ç ',
    course_name VARCHAR(100) NOT NULL COMMENT 'è¯¾ç¨‹åç§°',
    course_type VARCHAR(20) COMMENT 'è¯¾ç¨‹ç±»å‹',
    credits DECIMAL(3,1) COMMENT 'å­¦åˆ†',
    hours INTEGER COMMENT 'å­¦æ—¶',
    department_id BIGINT COMMENT 'æ‰€å±é™¢ç³»ID',
    teacher_id BIGINT COMMENT 'æˆè¯¾æ•™å¸ˆID',
    description TEXT COMMENT 'è¯¾ç¨‹æè¿°',
    prerequisites VARCHAR(255) COMMENT 'å…ˆä¿®è¯¾ç¨‹',
    status TINYINT DEFAULT 1 COMMENT 'çŠ¶æ€',
    created_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    deleted TINYINT DEFAULT 0,
    FOREIGN KEY (department_id) REFERENCES departments(id),
    FOREIGN KEY (teacher_id) REFERENCES users(id)
);
```

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### æµ‹è¯•é‡‘å­—å¡”

```
        /\
       /  \
      /    \     E2E Tests (ç«¯åˆ°ç«¯æµ‹è¯•)
     /______\    - Selenium WebDriver
    /        \   - å…³é”®ä¸šåŠ¡æµç¨‹æµ‹è¯•
   /          \
  /____________\  Integration Tests (é›†æˆæµ‹è¯•)
 /              \ - Spring Boot Test
/                \- APIæ¥å£æµ‹è¯•
\________________/
 \              / Unit Tests (å•å…ƒæµ‹è¯•)
  \____________/  - JUnit 5 + Mockito
   \          /   - ä¸šåŠ¡é€»è¾‘æµ‹è¯•
    \________/    - è¦†ç›–ç‡ > 80%
```

### æµ‹è¯•åˆ†ç±»

#### 1. å•å…ƒæµ‹è¯• (Unit Tests)
- **æµ‹è¯•èŒƒå›´**: Serviceå±‚ä¸šåŠ¡é€»è¾‘
- **æµ‹è¯•å·¥å…·**: JUnit 5 + Mockito + AssertJ
- **è¦†ç›–ç›®æ ‡**: ä»£ç è¦†ç›–ç‡ > 80%
- **æµ‹è¯•æ•°é‡**: 150+ æµ‹è¯•ç”¨ä¾‹

#### 2. é›†æˆæµ‹è¯• (Integration Tests)
- **æµ‹è¯•èŒƒå›´**: Controllerå±‚APIæ¥å£
- **æµ‹è¯•å·¥å…·**: Spring Boot Test + TestContainers
- **æµ‹è¯•å†…å®¹**: APIåŠŸèƒ½ã€æ•°æ®åº“æ“ä½œã€ç¼“å­˜æœºåˆ¶
- **æµ‹è¯•æ•°é‡**: 100+ æµ‹è¯•ç”¨ä¾‹

#### 3. ç«¯åˆ°ç«¯æµ‹è¯• (E2E Tests)
- **æµ‹è¯•èŒƒå›´**: å®Œæ•´ä¸šåŠ¡æµç¨‹
- **æµ‹è¯•å·¥å…·**: Selenium WebDriver + TestNG
- **æµ‹è¯•åœºæ™¯**: ç”¨æˆ·ç™»å½•ã€é€‰è¯¾æµç¨‹ã€æˆç»©æŸ¥è¯¢ç­‰
- **æµ‹è¯•æ•°é‡**: 50+ æµ‹è¯•åœºæ™¯

### æµ‹è¯•æ•°æ®ç®¡ç†

#### æµ‹è¯•æ•°æ®åº“
```yaml
# application-test.yml
spring:
  datasource:
    url: jdbc:h2:mem:testdb
    driver-class-name: org.h2.Driver
    username: sa
    password:
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true
```

#### æµ‹è¯•æ•°æ®åˆå§‹åŒ–
```java
@TestConfiguration
public class TestDataConfig {

    @Bean
    @Primary
    public DataSource testDataSource() {
        return new EmbeddedDatabaseBuilder()
            .setType(EmbeddedDatabaseType.H2)
            .addScript("classpath:test-schema.sql")
            .addScript("classpath:test-data.sql")
            .build();
    }
}
```

## ğŸ” ç›‘æ§ä¸è¿ç»´

### åº”ç”¨ç›‘æ§

#### 1. Spring Boot Actuator
```yaml
# ç›‘æ§ç«¯ç‚¹é…ç½®
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: always
  metrics:
    export:
      prometheus:
        enabled: true
```

#### 2. è‡ªå®šä¹‰ç›‘æ§æŒ‡æ ‡
```java
@Component
public class CustomMetrics {

    private final MeterRegistry meterRegistry;
    private final Counter userLoginCounter;
    private final Timer courseSelectionTimer;

    public CustomMetrics(MeterRegistry meterRegistry) {
        this.meterRegistry = meterRegistry;
        this.userLoginCounter = Counter.builder("user.login.count")
            .description("ç”¨æˆ·ç™»å½•æ¬¡æ•°")
            .register(meterRegistry);
        this.courseSelectionTimer = Timer.builder("course.selection.duration")
            .description("é€‰è¯¾æ“ä½œè€—æ—¶")
            .register(meterRegistry);
    }
}
```

### æ—¥å¿—ç®¡ç†

#### 1. æ—¥å¿—é…ç½® (logback-spring.xml)
```xml
<configuration>
    <springProfile name="dev">
        <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
            <encoder>
                <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
            </encoder>
        </appender>
        <root level="INFO">
            <appender-ref ref="CONSOLE"/>
        </root>
    </springProfile>

    <springProfile name="prod">
        <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
            <file>logs/smart-campus.log</file>
            <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
                <fileNamePattern>logs/smart-campus.%d{yyyy-MM-dd}.%i.log</fileNamePattern>
                <maxFileSize>100MB</maxFileSize>
                <maxHistory>30</maxHistory>
            </rollingPolicy>
            <encoder>
                <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n</pattern>
            </encoder>
        </appender>
        <root level="WARN">
            <appender-ref ref="FILE"/>
        </root>
    </springProfile>
</configuration>
```

#### 2. ä¸šåŠ¡æ—¥å¿—è®°å½•
```java
@Aspect
@Component
public class OperationLogAspect {

    @Around("@annotation(operationLog)")
    public Object logOperation(ProceedingJoinPoint joinPoint, OperationLog operationLog) throws Throwable {
        String operation = operationLog.value();
        String username = getCurrentUsername();
        long startTime = System.currentTimeMillis();

        try {
            Object result = joinPoint.proceed();
            long duration = System.currentTimeMillis() - startTime;

            // è®°å½•æˆåŠŸæ—¥å¿—
            activityLogService.logSuccess(username, operation, duration);
            return result;
        } catch (Exception e) {
            // è®°å½•å¤±è´¥æ—¥å¿—
            activityLogService.logError(username, operation, e.getMessage());
            throw e;
        }
    }
}
```

### æ€§èƒ½ç›‘æ§

#### 1. æ•°æ®åº“æ€§èƒ½ç›‘æ§
```java
@Configuration
public class DatabaseMonitoringConfig {

    @Bean
    public DataSource monitoredDataSource(@Qualifier("actualDataSource") DataSource dataSource) {
        return new ProxyDataSourceBuilder()
            .dataSource(dataSource)
            .name("smart-campus-db")
            .logQueryBySlf4j(SLF4JLogLevel.INFO)
            .logSlowQueryBySlf4j(1000, TimeUnit.MILLISECONDS)
            .countQuery()
            .build();
    }
}
```

#### 2. ç¼“å­˜æ€§èƒ½ç›‘æ§
```java
@Component
public class CacheMonitor {

    @EventListener
    public void handleCacheHit(CacheHitEvent event) {
        meterRegistry.counter("cache.hit", "cache", event.getCacheName()).increment();
    }

    @EventListener
    public void handleCacheMiss(CacheMissEvent event) {
        meterRegistry.counter("cache.miss", "cache", event.getCacheName()).increment();
    }
}
```

## ğŸš€ éƒ¨ç½²æŒ‡å—

### Dockeréƒ¨ç½²

#### 1. Dockerfile (åç«¯)
```dockerfile
FROM openjdk:17-jdk-slim

WORKDIR /app

COPY target/campus-management-backend-*.jar app.jar

EXPOSE 8889

ENTRYPOINT ["java", "-jar", "app.jar"]
```

#### 2. Dockerfile (å‰ç«¯)
```dockerfile
FROM node:16-alpine AS builder

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=builder /app/dist /usr/share/nginx/html
COPY nginx.conf /etc/nginx/nginx.conf

EXPOSE 80
```

#### 3. docker-compose.yml
```yaml
version: '3.8'

services:
  mysql:
    image: mysql:8.0
    container_name: smart-campus-mysql
    environment:
      MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD}
      MYSQL_DATABASE: smart_campus
      MYSQL_USER: campus_user
      MYSQL_PASSWORD: ${MYSQL_PASSWORD}
    volumes:
      - mysql_data:/var/lib/mysql
      - ./database/init:/docker-entrypoint-initdb.d
    ports:
      - "3306:3306"
    networks:
      - smart-campus-network

  redis:
    image: redis:7.0-alpine
    container_name: smart-campus-redis
    command: redis-server --appendonly yes
    volumes:
      - redis_data:/data
    ports:
      - "6379:6379"
    networks:
      - smart-campus-network

  backend:
    build: ./campus-management-backend
    container_name: smart-campus-backend
    environment:
      SPRING_PROFILES_ACTIVE: prod
      SPRING_DATASOURCE_URL: jdbc:mysql://mysql:3306/smart_campus
      SPRING_DATASOURCE_USERNAME: campus_user
      SPRING_DATASOURCE_PASSWORD: ${MYSQL_PASSWORD}
      SPRING_REDIS_HOST: redis
    depends_on:
      - mysql
      - redis
    ports:
      - "8889:8889"
    networks:
      - smart-campus-network

  frontend:
    build: ./campus-management-frontend
    container_name: smart-campus-frontend
    depends_on:
      - backend
    ports:
      - "80:80"
    networks:
      - smart-campus-network

volumes:
  mysql_data:
  redis_data:

networks:
  smart-campus-network:
    driver: bridge
```

### Kuberneteséƒ¨ç½²

#### 1. å‘½åç©ºé—´
```yaml
apiVersion: v1
kind: Namespace
metadata:
  name: smart-campus
```

#### 2. é…ç½®æ˜ å°„
```yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: smart-campus-config
  namespace: smart-campus
data:
  application.yml: |
    spring:
      profiles:
        active: k8s
      datasource:
        url: jdbc:mysql://mysql-service:3306/smart_campus
        username: campus_user
        password: ${MYSQL_PASSWORD}
      redis:
        host: redis-service
        port: 6379
```

#### 3. éƒ¨ç½²æ¸…å•
```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: smart-campus-backend
  namespace: smart-campus
spec:
  replicas: 3
  selector:
    matchLabels:
      app: smart-campus-backend
  template:
    metadata:
      labels:
        app: smart-campus-backend
    spec:
      containers:
      - name: backend
        image: smart-campus-backend:latest
        ports:
        - containerPort: 8889
        env:
        - name: SPRING_PROFILES_ACTIVE
          value: "k8s"
        - name: MYSQL_PASSWORD
          valueFrom:
            secretKeyRef:
              name: mysql-secret
              key: password
        volumeMounts:
        - name: config-volume
          mountPath: /app/config
        resources:
          requests:
            memory: "512Mi"
            cpu: "250m"
          limits:
            memory: "1Gi"
            cpu: "500m"
      volumes:
      - name: config-volume
        configMap:
          name: smart-campus-config
```

## ğŸ“‹ APIæ¥å£è¯¦ç»†æ–‡æ¡£

### è®¤è¯æ¨¡å— API

#### 1.1 ç”¨æˆ·ç™»å½•
- **æ¥å£**: `POST /api/v1/auth/login`
- **æè¿°**: ç”¨æˆ·ç™»å½•è·å–Token
- **æƒé™**: æ— éœ€Token

**è¯·æ±‚å‚æ•°**:
```json
{
  "username": "admin",
  "password": "admin123"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": 200,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "expiresIn": 7200,
    "userInfo": {
      "id": 1,
      "username": "admin",
      "realName": "ç³»ç»Ÿç®¡ç†å‘˜",
      "roles": ["ADMIN"]
    }
  }
}
```

#### 1.2 è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- **æ¥å£**: `GET /api/v1/auth/me`
- **æè¿°**: è·å–å½“å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯
- **æƒé™**: éœ€è¦Token

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": 200,
  "data": {
    "id": 1,
    "username": "admin",
    "realName": "ç³»ç»Ÿç®¡ç†å‘˜",
    "email": "admin@campus.com",
    "phone": "13800138000",
    "avatar": "/images/avatar/admin.jpg",
    "roles": ["ADMIN"],
    "permissions": ["user:read", "user:write", "course:read"]
  }
}
```

### ç”¨æˆ·ç®¡ç†æ¨¡å— API

#### 2.1 è·å–ç”¨æˆ·åˆ—è¡¨
- **æ¥å£**: `GET /api/v1/users`
- **æè¿°**: åˆ†é¡µè·å–ç”¨æˆ·åˆ—è¡¨
- **æƒé™**: `user:read`

**è¯·æ±‚å‚æ•°**:
```
page=1&size=10&keyword=å¼ ä¸‰&status=1&roleId=2
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": 200,
  "data": {
    "content": [
      {
        "id": 1,
        "username": "zhangsan",
        "realName": "å¼ ä¸‰",
        "email": "zhangsan@campus.com",
        "phone": "13800138001",
        "status": 1,
        "roles": [
          {
            "id": 2,
            "roleName": "æ•™å¸ˆ",
            "roleCode": "TEACHER"
          }
        ],
        "createdTime": "2025-06-01T10:00:00",
        "lastLoginTime": "2025-06-13T09:30:00"
      }
    ],
    "totalElements": 100,
    "totalPages": 10,
    "size": 10,
    "number": 0
  }
}
```

#### 2.2 åˆ›å»ºç”¨æˆ·
- **æ¥å£**: `POST /api/v1/users`
- **æè¿°**: åˆ›å»ºæ–°ç”¨æˆ·
- **æƒé™**: `user:write`

**è¯·æ±‚å‚æ•°**:
```json
{
  "username": "lisi",
  "password": "123456",
  "realName": "æå››",
  "email": "lisi@campus.com",
  "phone": "13800138002",
  "roleIds": [2, 3]
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": 200,
  "message": "ç”¨æˆ·åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": 101,
    "username": "lisi",
    "realName": "æå››",
    "email": "lisi@campus.com",
    "phone": "13800138002",
    "status": 1,
    "createdTime": "2025-06-13T10:00:00"
  }
}
```

### è¯¾ç¨‹ç®¡ç†æ¨¡å— API

#### 3.1 è·å–è¯¾ç¨‹åˆ—è¡¨
- **æ¥å£**: `GET /api/v1/courses`
- **æè¿°**: åˆ†é¡µè·å–è¯¾ç¨‹åˆ—è¡¨
- **æƒé™**: `course:read`

**è¯·æ±‚å‚æ•°**:
```
page=1&size=10&keyword=Java&departmentId=1&teacherId=5
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": 200,
  "data": {
    "content": [
      {
        "id": 1,
        "courseCode": "CS101",
        "courseName": "Javaç¨‹åºè®¾è®¡",
        "courseType": "ä¸“ä¸šå¿…ä¿®",
        "credits": 3.0,
        "hours": 48,
        "department": {
          "id": 1,
          "deptName": "è®¡ç®—æœºå­¦é™¢"
        },
        "teacher": {
          "id": 5,
          "realName": "ç‹è€å¸ˆ"
        },
        "description": "Javaç¼–ç¨‹åŸºç¡€è¯¾ç¨‹",
        "status": 1
      }
    ],
    "totalElements": 50,
    "totalPages": 5,
    "size": 10,
    "number": 0
  }
}
```

#### 3.2 åˆ›å»ºè¯¾ç¨‹
- **æ¥å£**: `POST /api/v1/courses`
- **æè¿°**: åˆ›å»ºæ–°è¯¾ç¨‹
- **æƒé™**: `course:write`

**è¯·æ±‚å‚æ•°**:
```json
{
  "courseCode": "CS102",
  "courseName": "æ•°æ®ç»“æ„",
  "courseType": "ä¸“ä¸šå¿…ä¿®",
  "credits": 4.0,
  "hours": 64,
  "departmentId": 1,
  "teacherId": 5,
  "description": "æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€",
  "prerequisites": "CS101"
}
```

### é€‰è¯¾ç®¡ç†æ¨¡å— API

#### 4.1 å­¦ç”Ÿé€‰è¯¾
- **æ¥å£**: `POST /api/v1/course-selections`
- **æè¿°**: å­¦ç”Ÿé€‰æ‹©è¯¾ç¨‹
- **æƒé™**: `course:select`

**è¯·æ±‚å‚æ•°**:
```json
{
  "courseId": 1,
  "studentId": 100,
  "selectionPeriodId": 1
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": 200,
  "message": "é€‰è¯¾æˆåŠŸ",
  "data": {
    "id": 1001,
    "courseId": 1,
    "studentId": 100,
    "selectionTime": "2025-06-13T10:00:00",
    "status": "SELECTED"
  }
}
```

#### 4.2 è·å–å­¦ç”Ÿé€‰è¯¾åˆ—è¡¨
- **æ¥å£**: `GET /api/v1/course-selections/student/{studentId}`
- **æè¿°**: è·å–æŒ‡å®šå­¦ç”Ÿçš„é€‰è¯¾åˆ—è¡¨
- **æƒé™**: `course:read`

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": 200,
  "data": [
    {
      "id": 1001,
      "course": {
        "id": 1,
        "courseCode": "CS101",
        "courseName": "Javaç¨‹åºè®¾è®¡",
        "credits": 3.0,
        "teacher": {
          "realName": "ç‹è€å¸ˆ"
        }
      },
      "selectionTime": "2025-06-13T10:00:00",
      "status": "SELECTED"
    }
  ]
}
```

### æˆç»©ç®¡ç†æ¨¡å— API

#### 5.1 å½•å…¥æˆç»©
- **æ¥å£**: `POST /api/v1/grades`
- **æè¿°**: æ•™å¸ˆå½•å…¥å­¦ç”Ÿæˆç»©
- **æƒé™**: `grade:write`

**è¯·æ±‚å‚æ•°**:
```json
{
  "studentId": 100,
  "courseId": 1,
  "examId": 1,
  "score": 85.5,
  "gradeType": "FINAL_EXAM",
  "remarks": "è¡¨ç°è‰¯å¥½"
}
```

#### 5.2 è·å–æˆç»©åˆ—è¡¨
- **æ¥å£**: `GET /api/v1/grades`
- **æè¿°**: è·å–æˆç»©åˆ—è¡¨
- **æƒé™**: `grade:read`

**è¯·æ±‚å‚æ•°**:
```
studentId=100&courseId=1&semester=2025-1
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": 200,
  "data": [
    {
      "id": 1,
      "student": {
        "id": 100,
        "realName": "å¼ ä¸‰",
        "studentNumber": "2025001"
      },
      "course": {
        "id": 1,
        "courseName": "Javaç¨‹åºè®¾è®¡",
        "credits": 3.0
      },
      "score": 85.5,
      "gradeType": "FINAL_EXAM",
      "recordTime": "2025-06-13T10:00:00"
    }
  ]
}
```

### è´¢åŠ¡ç®¡ç†æ¨¡å— API

#### 6.1 è·å–è´¹ç”¨é¡¹ç›®
- **æ¥å£**: `GET /api/v1/fee-items`
- **æè¿°**: è·å–è´¹ç”¨é¡¹ç›®åˆ—è¡¨
- **æƒé™**: `finance:read`

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": 200,
  "data": [
    {
      "id": 1,
      "itemName": "å­¦è´¹",
      "itemCode": "TUITION",
      "amount": 5000.00,
      "itemType": "SEMESTER",
      "description": "æ¯å­¦æœŸå­¦è´¹",
      "status": 1
    }
  ]
}
```

#### 6.2 åˆ›å»ºç¼´è´¹è®°å½•
- **æ¥å£**: `POST /api/v1/payments`
- **æè¿°**: åˆ›å»ºç¼´è´¹è®°å½•
- **æƒé™**: `finance:write`

**è¯·æ±‚å‚æ•°**:
```json
{
  "studentId": 100,
  "feeItemId": 1,
  "amount": 5000.00,
  "paymentMethod": "ALIPAY",
  "remarks": "2025å¹´æ˜¥å­£å­¦æœŸå­¦è´¹"
}
```

### ç³»ç»Ÿç®¡ç†æ¨¡å— API

#### 7.1 è·å–ç³»ç»Ÿé…ç½®
- **æ¥å£**: `GET /api/v1/system/config`
- **æè¿°**: è·å–ç³»ç»Ÿé…ç½®ä¿¡æ¯
- **æƒé™**: `system:read`

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "code": 200,
  "data": {
    "systemName": "æ™ºæ…§æ ¡å›­ç®¡ç†ç³»ç»Ÿ",
    "systemVersion": "1.0.0",
    "maxUploadSize": "10MB",
    "sessionTimeout": 7200,
    "enableRegistration": true,
    "defaultUserRole": "STUDENT"
  }
}
```

#### 7.2 å‘é€é€šçŸ¥
- **æ¥å£**: `POST /api/v1/notifications`
- **æè¿°**: å‘é€ç³»ç»Ÿé€šçŸ¥
- **æƒé™**: `notification:write`

**è¯·æ±‚å‚æ•°**:
```json
{
  "title": "ç³»ç»Ÿç»´æŠ¤é€šçŸ¥",
  "content": "ç³»ç»Ÿå°†äºä»Šæ™š22:00-24:00è¿›è¡Œç»´æŠ¤",
  "notificationType": "SYSTEM",
  "targetType": "ALL",
  "targetIds": [],
  "priority": "HIGH"
}
```

### é”™è¯¯ç è¯´æ˜

| é”™è¯¯ç  | è¯´æ˜ | è§£å†³æ–¹æ¡ˆ |
|--------|------|----------|
| 400 | è¯·æ±‚å‚æ•°é”™è¯¯ | æ£€æŸ¥è¯·æ±‚å‚æ•°æ ¼å¼å’Œå¿…å¡«é¡¹ |
| 401 | æœªæˆæƒè®¿é—® | æ£€æŸ¥Tokenæ˜¯å¦æœ‰æ•ˆ |
| 403 | æƒé™ä¸è¶³ | æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰ç›¸åº”æƒé™ |
| 404 | èµ„æºä¸å­˜åœ¨ | æ£€æŸ¥è¯·æ±‚çš„èµ„æºIDæ˜¯å¦æ­£ç¡® |
| 409 | æ•°æ®å†²çª | æ£€æŸ¥æ˜¯å¦å­˜åœ¨é‡å¤æ•°æ® |
| 500 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ | è”ç³»æŠ€æœ¯æ”¯æŒ |

---

*æœ¬æ–‡æ¡£æœ€åæ›´æ–°æ—¶é—´: 2025å¹´6æœˆ13æ—¥*
