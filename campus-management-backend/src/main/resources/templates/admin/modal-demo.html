<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/base :: html}"
      lang="zh-CN">
<head th:replace="~{layout/base :: head}">
    <th:block th:fragment="head-extra">
        <title>弹窗演示 - 智慧校园管理系统</title>
    </th:block>
</head>
<body>
    <div th:fragment="content">
        <!-- 页面标题 -->
        <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 class="h3 mb-0 text-gray-800">
                <i class="fas fa-window-restore"></i> 弹窗功能演示
            </h1>
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="#" th:href="@{/admin/dashboard}">首页</a></li>
                    <li class="breadcrumb-item active">弹窗演示</li>
                </ol>
            </nav>
        </div>

        <!-- 功能说明 -->
        <div class="alert alert-info mb-4" role="alert">
            <h5 class="alert-heading">
                <i class="fas fa-info-circle"></i> 功能说明
            </h5>
            <p class="mb-0">
                本页面展示了智慧校园管理系统中的各种弹窗功能，包括学生管理、课程管理、班级管理和排课管理。
                所有弹窗都支持表单验证、自动保存和数据恢复功能。
            </p>
        </div>

        <!-- 弹窗演示区域 -->
        <div class="row">
            <!-- 学生管理弹窗 -->
            <div class="col-lg-6 mb-4">
                <div class="card shadow">
                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-primary">
                            <i class="fas fa-user-graduate"></i> 学生管理弹窗
                        </h6>
                    </div>
                    <div class="card-body">
                        <p class="text-muted mb-3">
                            学生信息录入弹窗，包含基本信息和学籍信息两个部分，支持专业和班级联动选择。
                        </p>
                        <div class="d-grid gap-2">
                            <button type="button" class="btn btn-primary" onclick="openStudentModal()">
                                <i class="fas fa-user-plus"></i> 添加学生
                            </button>
                            <button type="button" class="btn btn-outline-primary" onclick="openStudentModal({
                                studentId: '2024001001',
                                name: '张三',
                                gender: '男',
                                major: '计算机科学与技术',
                                classId: '1',
                                phone: '13800138000',
                                email: 'zhangsan@example.com'
                            })">
                                <i class="fas fa-user-edit"></i> 编辑学生（示例数据）
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 课程管理弹窗 -->
            <div class="col-lg-6 mb-4">
                <div class="card shadow">
                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-success">
                            <i class="fas fa-book-open"></i> 课程管理弹窗
                        </h6>
                    </div>
                    <div class="card-body">
                        <p class="text-muted mb-3">
                            课程信息录入弹窗，包含基本信息和教学信息，支持学时自动计算功能。
                        </p>
                        <div class="d-grid gap-2">
                            <button type="button" class="btn btn-success" onclick="openCourseModal()">
                                <i class="fas fa-book-plus"></i> 添加课程
                            </button>
                            <button type="button" class="btn btn-outline-success" onclick="openCourseModal({
                                courseCode: 'CS101',
                                courseName: '计算机科学导论',
                                credits: '3',
                                courseType: '必修课',
                                department: '计算机学院',
                                totalHours: '48',
                                theoryHours: '32',
                                practiceHours: '16'
                            })">
                                <i class="fas fa-book-edit"></i> 编辑课程（示例数据）
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 班级管理弹窗 -->
            <div class="col-lg-6 mb-4">
                <div class="card shadow">
                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-info">
                            <i class="fas fa-users"></i> 班级管理弹窗
                        </h6>
                    </div>
                    <div class="card-body">
                        <p class="text-muted mb-3">
                            班级信息录入弹窗，包含基本信息、管理信息和时间信息，支持专业院系联动。
                        </p>
                        <div class="d-grid gap-2">
                            <button type="button" class="btn btn-info" onclick="openClassModal()">
                                <i class="fas fa-users-plus"></i> 添加班级
                            </button>
                            <button type="button" class="btn btn-outline-info" onclick="openClassModal({
                                classCode: 'CS2024-1',
                                className: '计算机科学2024-1班',
                                major: '计算机科学与技术',
                                grade: '2024',
                                department: '计算机学院',
                                capacity: '40'
                            })">
                                <i class="fas fa-users-cog"></i> 编辑班级（示例数据）
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 排课管理弹窗 -->
            <div class="col-lg-6 mb-4">
                <div class="card shadow">
                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-warning">
                            <i class="fas fa-calendar-alt"></i> 排课管理弹窗
                        </h6>
                    </div>
                    <div class="card-body">
                        <p class="text-muted mb-3">
                            课程安排弹窗，包含课程信息、时间安排和课程设置，支持冲突检测功能。
                        </p>
                        <div class="d-grid gap-2">
                            <button type="button" class="btn btn-warning" onclick="openScheduleModal()">
                                <i class="fas fa-calendar-plus"></i> 安排课程
                            </button>
                            <button type="button" class="btn btn-outline-warning" onclick="openScheduleModal({
                                courseId: '1',
                                teacherId: '1',
                                classId: '1',
                                classroomId: '1',
                                semester: '2024-1',
                                weekday: '1',
                                timeSlot: '1-2',
                                weeks: '1-16周'
                            })">
                                <i class="fas fa-calendar-edit"></i> 编辑排课（示例数据）
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 功能特性说明 -->
        <div class="row">
            <div class="col-12">
                <div class="card shadow">
                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-primary">
                            <i class="fas fa-star"></i> 弹窗功能特性
                        </h6>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-3 mb-3">
                                <div class="text-center">
                                    <div class="feature-icon bg-primary text-white rounded-circle mb-2 mx-auto" 
                                         style="width: 60px; height: 60px; line-height: 60px;">
                                        <i class="fas fa-check-circle"></i>
                                    </div>
                                    <h6>表单验证</h6>
                                    <p class="text-muted small">实时验证用户输入，确保数据准确性</p>
                                </div>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="text-center">
                                    <div class="feature-icon bg-success text-white rounded-circle mb-2 mx-auto" 
                                         style="width: 60px; height: 60px; line-height: 60px;">
                                        <i class="fas fa-save"></i>
                                    </div>
                                    <h6>自动保存</h6>
                                    <p class="text-muted small">自动保存表单数据，防止意外丢失</p>
                                </div>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="text-center">
                                    <div class="feature-icon bg-info text-white rounded-circle mb-2 mx-auto" 
                                         style="width: 60px; height: 60px; line-height: 60px;">
                                        <i class="fas fa-link"></i>
                                    </div>
                                    <h6>联动选择</h6>
                                    <p class="text-muted small">智能联动，简化用户操作流程</p>
                                </div>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="text-center">
                                    <div class="feature-icon bg-warning text-white rounded-circle mb-2 mx-auto" 
                                         style="width: 60px; height: 60px; line-height: 60px;">
                                        <i class="fas fa-exclamation-triangle"></i>
                                    </div>
                                    <h6>冲突检测</h6>
                                    <p class="text-muted small">智能检测时间冲突，避免排课错误</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 引入弹窗组件 -->
    <div th:replace="~{admin/modals/student-modal :: }"></div>
    <div th:replace="~{admin/modals/course-modal :: }"></div>
    <div th:replace="~{admin/modals/class-modal :: }"></div>
    <div th:replace="~{admin/modals/schedule-modal :: }"></div>

    <th:block th:fragment="scripts">
        <script>
            // 页面加载完成后的初始化
            document.addEventListener('DOMContentLoaded', function() {
                // 显示欢迎消息
                setTimeout(() => {
                    FormUtils.showAlert('欢迎使用弹窗功能演示页面！点击按钮体验各种弹窗功能。', 'info');
                }, 1000);
            });
        </script>
    </th:block>
</body>
</html>
